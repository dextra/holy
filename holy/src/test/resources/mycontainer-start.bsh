import com.googlecode.mycontainer.kernel.*;
import com.googlecode.mycontainer.kernel.boot.*;
import com.googlecode.mycontainer.kernel.deploy.*;
import com.googlecode.mycontainer.web.*;
import com.googlecode.mycontainer.web.jetty.*;

System.setProperty("java.naming.factory.initial", 
    "com.googlecode.mycontainer.kernel.naming.MyContainerContextFactory");

builder = new ContainerBuilder();

builder.deployVMShutdownHook();

JettyServerDeployer webServer = builder
        .createDeployer(JettyServerDeployer.class);
webServer.bindPort(8080);
webServer.setName("WebServer");

ContextWebServer webContext = webServer.createContextWebServer();
webContext.setContext("/");
webContext.setResources("src/main/webapp/");

webServer.deploy();

builder.waitFor();
