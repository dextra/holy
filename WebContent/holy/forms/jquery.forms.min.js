(function($){$.fn.max=function(method){if(typeof(method)=="string"){var m=method;method=function(){return $(this)[m]()}}var ret=null;$(this).each(function(){var num=method.apply(this);if(!ret||num>ret){ret=num}});return ret};$.fn.maximize=function(method,reset){var me=$(this);if(reset!==undefined){me[method](reset)}var max=me.max(method);me[method](max+15)};$.fn.form=function(opts){opts=$.extend({},opts);var forms=$(this);forms.addClass("forms");$(this).find("input, textarea, select").live("focus",function(){$(this).addClass("focus")});$(this).find("input, textarea, select").live("blur",function(){$(this).removeClass("focus")});if(opts.liquid){$(this).addClass("liquidForm")}$(this).find(".require label:first-child").prepend('<span class="required">*</span>')};$.fn.charCount=function(options){var defaults={allowed:140,warning:25,css:"charCount",cssWarning:"countWarning",cssExceeded:"countExceeded",counterText:""};var options=$.extend(defaults,options);function calculate(obj){var count=$(obj).val().length;var available=options.allowed-count;if(available<=options.warning&&available>=0){$(obj).next().addClass(options.cssWarning)}else{$(obj).next().removeClass(options.cssWarning)}if(available<0){$(obj).next().addClass(options.cssExceeded);$(obj).addClass(options.cssExceeded)}else{$(obj).next().removeClass(options.cssExceeded);$(obj).removeClass(options.cssExceeded)}$(obj).next().html(options.counterText+"<span>"+available+"</span>")}this.each(function(){$(this).after('<p class="'+options.css+'">'+options.counterText+"</p>");var labelW=$(this).prev("label").width();var countAlign=$(this).next("p");countAlign.css("marginLeft",labelW+10);calculate(this);$(this).keyup(function(){calculate(this)});$(this).change(function(){calculate(this)})})};$.fn.picklist=function(opts){var plist=$(this);plist.addClass("picklist");var selectHeight=plist.find("select").height();plist.css("height",selectHeight+10);plist.find("select").attr("multiple","multiple");$(this).find("select:first").after('<div class="pActions"><button class="pr">&gt;</button><button class="apr">&gt;&gt;</button><button class="apl">&lt;&lt;</button><button class="pl">&lt;</button></div>');plist.find(".pl").click(function(){var pselect=plist.find("select:last option:selected");pselect.remove();plist.find("select:first").append(pselect)});plist.find(".pr").click(function(){var pselect=plist.find("select:first option:selected");pselect.remove();plist.find("select:last").append(pselect)});plist.find(".apl").click(function(){var pselect=plist.find("select:last option");pselect.remove();plist.find("select:first").append(pselect)});plist.find(".apr").click(function(){var pselect=plist.find("select:first option");pselect.remove();plist.find("select:last").append(pselect)})}})(jQuery);