<engine>
	<template selector="#content">
		<h3>Getting Started</h3>
		<div class="toogle">
			<h3>
				<span>The esiest way</span>
			</h3>
			<div>
				<p>The easiest way is getting the index.html witch links directly
					to ${window.location.protocol}//${window.location.host}
				</p>
				<p>Remeber you can always right click to save the file :)</p>
			</div>
			<div class="toogle">
				<h3>
					<span>
						index.html (absulute links)
					</span>
				</h3>
				<div class="absoluteindex" style="display:none">
					<pre class="snippet">
					</pre>
				</div>
			</div>
			<div class="toogle">
				<h3>
					<span>
						<a href="index.html" class="unclickable">index.html (relative links)
						</a>
					</span>
				</h3>
				<div class="relativeindex" style="display:none">
					<pre class="snippet">
					</pre>
				</div>
			</div>
		</div>
	</template>
	<script>
		<![CDATA[
			$('#content .toogle').togglePanel();

			$('#content .unclickable').click(function(event) {
				event.preventDefault();
			});

			$.ajax({
				url: 'index.html',
				dataType: 'text',
				success: function(text) {
					$('#content .relativeindex .snippet').text(text);
					$('#content .relativeindex .snippet').snippet('html', {style:"ide-eclipse",showNum:false});
					
					var xml = $($.parseXML(text));
					xml.find('[src],[href]').each(function() {
					     var value = $(this).attr('src') ||  $(this).attr('href');
					     if(!value.match(/\:/)) {
					        value = location.protocol + '//' + location.host + (value.match(/^\//)?value:'/' + value);
					        if($(this).attr('src')) {
					           $(this).attr('src', value);
					        } else {
					        	$(this).attr('href', value);
					        }
					     }
					});
					$('#content .absoluteindex .snippet').text(xml.xml());
					$('#content .absoluteindex .snippet').snippet('html', {style:"ide-eclipse",showNum:false});
				}
			});
		]]>
	</script>
</engine>
